let page_setup = [
    {
        "url": [
            "ppc-archibus"
        ],
        "page_class": "spz-ppc-archibus",
        "form_title": "All-in-one platform.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/v1702565375/eptura/3017/endorsed_logos_1.svg",
        "logo_alt": "Archibus",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-archibus-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-1_19.webp"
        },
        "list_item": [
            "Streamline workplace and asset management operations.",
            "Boost workplace productivity.",
            "Maximize your space",
            "Extend asset longevity"
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">Archibus is <strong>saving money</strong> for us <strong>in many ways</strong>, by more accurately <strong>tracking our assets</strong> as well as their condition and costs, <strong>identifying surplus space</strong>, improving <strong>management of our fleet of vehicles</strong>, and aiding safety and business continuity.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/photo_-_ralph_linne.webp\" alt=\"Ralph Linne\" title=\"Ralph Linne\">\n <div class=\"name\">\n <h4>Ralph Linne</h4>\n <h6>Director of Country Facilities </h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_hamilton_county.webp\" alt=\"Hamilton County Logo\" title=\"Hamilton County Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-archibus-assets"
        ],
        "page_class": "spz-ppc-archibus",
        "form_title": "Increase performance.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/v1702565375/eptura/3017/endorsed_logos_1.svg",
        "logo_alt": "Archibus",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-archibus-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-1_19.webp"
        },
        "list_item": [
            "Automate asset maintenance.",
            "Reduce asset operation costs.",
            "Improve asset availability.",
            "Extend asset longevity"
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">Archibus is <strong>saving money</strong> for us <strong>in many ways</strong>, by more accurately <strong>tracking our assets</strong> as well as their condition and costs, <strong>identifying surplus space</strong>, improving <strong>management of our fleet of vehicles</strong>, and aiding safety and business continuity.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/photo_-_ralph_linne.webp\" alt=\"Ralph Linne\" title=\"Ralph Linne\">\n <div class=\"name\">\n <h4>Ralph Linne</h4>\n <h6>Director of Country Facilities </h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_hamilton_county.webp\" alt=\"Hamilton County Logo\" title=\"Hamilton County Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-archibus-maintenance-software"
        ],
        "page_class": "spz-ppc-archibus",
        "form_title": "Reduce costs <span class=\"p-bold\">by 30%.</span>",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/v1702565375/eptura/3017/endorsed_logos_1.svg",
        "logo_alt": "Archibus",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-archibus-1440_1.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-1_19.webp"
        },
        "list_item": [
            "Automate asset <br>preventive maintenance.",
            "Improve asset availability",
            "Extend asset longevity.",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">Archibus is <strong>saving money</strong> for us <strong>in many ways</strong>, by more accurately <strong>tracking our assets</strong> as well as their condition and costs, <strong>identifying surplus space</strong>, improving <strong>management of our fleet of vehicles</strong>, and aiding safety and business continuity.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/photo_-_ralph_linne.webp\" alt=\"Ralph Linne\" title=\"Ralph Linne\">\n <div class=\"name\">\n <h4>Ralph Linne</h4>\n <h6>Director of Country Facilities </h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_hamilton_county.webp\" alt=\"Hamilton County Logo\" title=\"Hamilton County Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura"
        ],
        "page_class": "spz-ppc-eptura",
        "form_title": "with one platform for workplace and asset management.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-eptura-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-1_21.webp"
        },
        "list_item": [
            "Automate operations",
            "Maximize your space",
            "Uncover smarter data",
            "Improve asset availability",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">We <strong>reduced the time</strong> for the receptionist to welcome each visitor <strong>by 50%.</strong> But the most important isn't the time we save, it's the time it gives us to <strong>better welcome</strong> our visitors.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/Eric-Van-Lint.png\" alt=\"Eric Van Lint\" title=\"Eric Van Lint\">\n <div class=\"name\">\n <h4>Eric Van Lint</h4>\n <h6>Senior Alliance Manager</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_dimension_data.webp\" alt=\"Dimension Data Logo\" title=\"Dimension Data Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-asset-management"
        ],
        "page_class": "spz-ppc-eptura-asset",
        "form_title": "Reduce costs. Increase performance.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-asset_management-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-asset_management-768.webp"
        },
        "list_item": [
            "Automate equipment maintenance.",
            "Improve asset availability.",
            "Extend asset longevity",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">We've been able to <strong>better streamline</strong> our business and processes to make <strong>maintenance management easier</strong> on all of our staff members and team.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/alissa_hall.png\" alt=\"Alissa Hall\" title=\"Alissa Hall\">\n <div class=\"name\">\n <h4>Alissa Hall</h4>\n <h6>Maintenance Manager</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/0001/deer_valley_logo_2.svg\" alt=\"Deer Valley Logo\" title=\"Deer Valley Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-facility-management-software"
        ],
        "page_class": "spz-ppc-eptura-asset",
        "form_title": "in one platform",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-facility_management-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-facility_management-1440_1.webp"
        },
        "list_item": [
            "Plan and manage your <br>entire facility",
            "Extend asset longevity",
            "Maximize your space",
            "Increase compliance",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">We've been able to <strong>better streamline</strong> our business and processes to make <strong>maintenance management easier</strong> on all of our staff members and team.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/alissa_hall.png\" alt=\"Alissa Hall\" title=\"Alissa Hall\">\n <div class=\"name\">\n <h4>Alissa Hall</h4>\n <h6>Maintenance Manager</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/0001/deer_valley_logo_2.svg\" alt=\"Deer Valley Logo\" title=\"Deer Valley Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-fleet-maintenance-software"
        ],
        "page_class": "spz-ppc-eptura",
        "form_title": "while reducing costs.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-fleet_maintenance-1440_1.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-fleet_maintenance-1440_2.webp"
        },
        "list_item": [
            "Increase vehicle safety ",
            "Automate fleet management",
            "Increase vehicle longevity ",
            "Streamline inspections",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">It is <strong>saving money</strong> for us by more accurately <strong>tracking our assets, identifying surplus space,</strong> improving the <strong>management of our vehicle fleet,</strong> and aiding safety.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/photo_-_ralph_linne.webp\" alt=\"Ralph Linne\" title=\"Ralph Linne\">\n <div class=\"name\">\n <h4>Ralph Linne</h4>\n <h6>Director of Country Facilities </h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_hamilton_county.webp\" alt=\"Hamilton County Logo\" title=\"Hamilton County Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-preventive-maintenance"
        ],
        "page_class": "spz-ppc-eptura-preventive",
        "form_title": "Keep your assets up and running",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3024/img-eptura-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3024/img-eptura-768.webp"
        },
        "list_item": [
            "Improve asset availability.",
            "Extend asset longevity",
            "Reduce future costly repairs ",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">We've been able to <strong>better streamline</strong> our business and processes to make <strong>maintenance management</strong> easier on all of our staff members and team.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/alissa_hall.png\" alt=\"Alissa Hall\" title=\"Alissa Hall\">\n <div class=\"name\">\n <h4>Alissa Hall</h4>\n <h6>Maintenance Manager</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/0001/deer_valley_logo_2.svg\" alt=\"Deer Valley Logo\" title=\"Deer Valley Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-room-management"
        ],
        "page_class": "spz-ppc-eptura-room",
        "form_title": "Streamline workspace bookings.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-room_management-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-1_27.webp"
        },
        "list_item": [
            "Boost hybrid collaboration.",
            "Maximize your space",
            "Optimize guest experience",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">We <strong>reduced the time</strong> for the receptionist to welcome each visitor <strong>by 50%.</strong> But the most important isn't the time we save, it's the time it gives us to <strong>better welcome</strong> our visitors.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/Eric-Van-Lint.png\" alt=\"Eric Van Lint\" title=\"Eric Van Lint\">\n <div class=\"name\">\n <h4>Eric Van Lint</h4>\n <h6>Senior Alliance Manager</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_dimension_data.webp\" alt=\"Dimension Data Logo\" title=\"Dimension Data Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-space-planning"
        ],
        "page_class": "spz-ppc-archibus-space",
        "form_title": "Reduce costs <span class=\"p-bold\">by 30%.</span>",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-space_planning-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-space_planning-1440_1.webp"
        },
        "list_item": [
            "Streamline space planning and real estate management.",
            "Maximize your space.",
            "Uncover smarter data",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">It helped assess what we <strong>actually needed</strong> for our space.  We use the reports to decide how much square footage we need. The technology has helped us <strong>lower our costs.</strong></p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/photo_-_evelyn_guerra.webp\" alt=\"Evelyn Guerra\" title=\"Evelyn Guerra\">\n <div class=\"name\">\n <h4>Evelyn Guerra</h4>\n <h6>Senior Director of Global Workspaces</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"https://res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_instructure.webp\" alt=\"Instructure Logo\" title=\"Instructure Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-eptura-visitor-management-solutions"
        ],
        "page_class": "spz-ppc-proxy-click",
        "form_title": "Make the visitor check-in experience <span class=\"p-bold\">50% faster</span> while",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/main_logo_1.svg",
        "logo_alt": "Eptura",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-visitor_management-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/img-visitor_management-768.webp"
        },
        "list_item": [
            "improving security.",
            "optimizing guest experience",
            "decreasing operational costs",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">We <strong>reduced the time</strong> for the receptionist to welcome each visitor <strong>by 50%.</strong> But the most important isn't the time we save, it's the time it gives us to <strong>better welcome</strong> our visitors.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/Eric-Van-Lint.png\" alt=\"Eric Van Lint\" title=\"Eric Van Lint\">\n <div class=\"name\">\n <h4>Eric Van Lint</h4>\n <h6>Senior Alliance Manager</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_dimension_data.webp\" alt=\"Dimension Data Logo\" title=\"Dimension Data Logo\">\n </div>\n </div>\n </div>"
        ]
    },
    {
        "url": [
            "ppc-condeco-make-your-flexible-office-work-better"
        ],
        "page_class": "spz-ppc-condeco",
        "form_title": "Streamline desk and meeting room scheduling.",
        "site_logo": "//res.cloudinary.com/spiralyze/image/upload/fl_sanitize/eptura/3017/endorsed_logos_2.svg",
        "logo_alt": "Condeco",
        "hero_image": {
            "desktop": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-condeco-1440.webp",
            "tablet": "//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3017/img-1_17.webp"
        },
        "list_item": [
            "Simplify hybrid work.",
            "Maximize your space.",
            "Uncover smarter data",
        ],
        "testimonial_slide": [
            "<div class=\"swiper-slide spz-testimonial\">\n <p class=\"spz-testimonial-content\">Condeco was the <strong>perfect fit</strong>: an established product that had <strong>market traction</strong>, and we could <strong>get it in quickly</strong>. That was the bottom line.</p>\n <div class=\"spz-testimonial-author\">\n <div class=\"author-info\">\n <img src=\"//res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/photo_-_gerry_conchar.webp\" alt=\"Gerry Conchar\" title=\"Gerry Conchar\">\n <div class=\"name\">\n <h4>Gerry Conchar</h4>\n <h6>Global Delivery Lead</h6>\n </div>\n </div>\n <div class=\"company-info\">\n <img src=\"https://res.cloudinary.com/spiralyze/image/upload/f_auto/eptura/3018/logo_-_kelloggs_1.webp\" alt=\"Kelloggs Logo\" title=\"Kelloggs Logo\">\n </div>\n </div>\n </div>"
        ]
    }
];

let single_page_setup = '';

// Get current page url and update content as per page_setup.url
page_setup.forEach(it => {
    it.url.forEach(url => {
        if (location.href.indexOf(url) != -1) {
            single_page_setup = it;
            return;
        }
    });
});


(function () {
    let custom_html = `
    <div class="spz-testimonials">
      <div class="spz-testimonials-wrap">
          <div class="spz-testimonials-slider swiper">
            <div class="swiper-wrapper">${genslide()}</div>
          </div>
      </div>
    </div>
    `;

    let hero_content = `
    <div class="spz-hero-contents">
        <div class="spz-hero-content-wrap">
            <div class="spz-hero-image-list">
                <picture>
                    <source media="(min-width:1199.98px)" srcset="${single_page_setup.hero_image.desktop}">
                    <source media="(min-width:767.98px)" srcset="${single_page_setup.hero_image.tablet}">
                    <img src="${single_page_setup.hero_image.tablet}" alt="Hero Image">
                  </picture>
                  ${custom_html}
            </div>
            <div class="spz-footer">
                <div class="spz-footer-wrap">
                    <ul class="spz-footer-links">
                        <li><a href="https://eptura.com/terms/saas-privacy-policy">SaaS Privacy Policy</a></li>
                        <li><a href="https://eptura.com/terms/privacy-policy/">Privacy Policy</a></li>
                        <li><a href="https://eptura.com/terms/modern-slavery/">Modern Slavery</a></li>
                    </ul>
                    <label class="spz-footer-copyright">All Rights Reserved © Eptura™</label>
                </div>
            </div>
        </div>
    </div>
    `;

    //check if jquery is loaded
    let jqLoaded = setInterval(() => {
        if (typeof jQuery !== 'undefined') {
            clearInterval(jqLoaded);
            revolingTextInit();
        }
    }, 100);

    // function for each character typing and deleting effect using javascript
    function revolingTextInit() {
        //text slider 4054 start
        let revolingText = [];
        let order = 0;

        //copy text of all .items
        jQuery('.spz-form-title .title-height .item').each(function () {
            revolingText.push(jQuery(this).text());
            jQuery(this).attr("data-order", order);
            order++;
        });

        //add one dummy text
        if (jQuery('.spz-form-title .title-height .item').length === 0) {
            jQuery('.spz-form-title .title-height').prepend(`<span class="item">dummy</span>`);
        }

        // now revolving text is visible
        jQuery('.spz-form-title .title-height').addClass('active');

        function showSlides2() {
            //animation start
            // jQuery('.spz-form-title .item:nth-child(1)').animate({
            //     height: 'hide'
            // }, 800);

            setTimeout(function () {
                var attr = jQuery('.spz-form-title .item:nth-child(1)').attr('data-order');
                if (typeof attr !== 'undefined' && attr !== false) {
                    //check if not dummy then enter
                    //debugger;

                    //get order of item about to remove & append same item in the last for loop effect
                    let removeItemOrder = jQuery('.spz-form-title .item:nth-child(1)').attr("data-order");
                    jQuery('.spz-form-title .title-height').append(`<span class="item" data-order="${removeItemOrder}">${revolingText[removeItemOrder]}</span>`);

                    //remove item
                    jQuery('.spz-form-title .item[data-order=' + removeItemOrder + ']:first').remove();
                } else {
                    //if dummy remove item
                    jQuery('.spz-form-title .item:nth-child(1)').remove();
                }
            }, 100);

            setTimeout(showSlides2, 3000);
        }

        setTimeout(showSlides2, 3000);
    }

    document.body.classList.add('spz-3024');

    if (single_page_setup != '') {
        document.body.classList.add(single_page_setup.page_class);
    }
    waitForElm('#bodyId #hero #HeroFormCol #HeroForm .mktoForm .mktoFormRow .mktoField').then(function () {
        document.body.classList.add('spz-3024');
        loadTest();
        clearFormFields();

        document.querySelectorAll('a[href="#DemoRequest"]').forEach(function (el) {
            el.setAttribute('href', '#HeroFormPanel');
        });
    });

    //Clear form fields
    function clearFormFields() {
        document.querySelectorAll('#HeroForm .mktoForm .mktoFormRow .mktoField:not([type="checkbox"]):not([type="hidden"])').forEach(function (el) {
            el.value = '';
            if (el.closest('.mktoFormCol').classList.contains('input-filled')) {
                el.closest('.mktoFormCol').classList.remove('input-filled');
            }
        });
    }

    function loadTest() {
        var swiperscript = document.createElement('script');
        swiperscript.src = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js';
        swiperscript.type = 'text/javascript';
        document.getElementsByTagName('head')[0].appendChild(swiperscript);

        var swiperCSS = document.createElement('link');
        swiperCSS.type = 'text/css';
        swiperCSS.rel = 'stylesheet';
        swiperCSS.href = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css';
        document.head.appendChild(swiperCSS);

        formUpdate();
        focusFields();

        // Add class 'safari' (used for cart scrollbar)
        if (navigator.userAgent.toLowerCase().indexOf('chrome/') == -1 && navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {
            document.querySelector('body').classList.add('safari');
        }
        window.addEventListener("click", function (e) {
            if (e.target.classList.contains("show-comment-dynamic")) {
                e.target.parentElement.classList.add('spz-hidden');
                this.document.querySelector('#Lead_Notes__c').focus();
            }

            if (e.target.classList.contains("mktoField")) {
                showGlobalError();
            }

            if (e.target.classList.contains("mktoButton")) {
                document.querySelectorAll('#HeroForm .mktoForm .mktoFormRow .mktoField:not([type="checkbox"]):not([type="hidden"])').forEach(function (el) {
                    checkError(el);
                    showGlobalError();
                });
            }
        });
        document.querySelector('head').insertAdjacentHTML("afterbegin", `<link rel="preload" href="https://res.cloudinary.com/spiralyze/image/upload/v1692677050/eptura/3002/form-checkmark-errored.svg" as="image"><link rel="preload" href="https://res.cloudinary.com/spiralyze/image/upload/v1691420998/eptura/3001/custom/form-checkmark-hover.svg" as="image"><link rel="preload" href="https://res.cloudinary.com/spiralyze/image/upload/v1691420998/eptura/3001/custom/form-checkmark-checked.svg" as="image">`
        );
        document.body.classList.add('spz-load-complete');
    }

    //custom error for checkbox field
    function showGlobalError() {
        let checkErrorforCheckBox = setInterval(() => {
            if (document.querySelector('.mktoLogicalField.mktoCheckboxList.mktoInvalid') && document.querySelector('.mktoLogicalField.mktoCheckboxList.mktoInvalid + .mktoError')) {
                document.querySelector('#LblSingle_Opt_In__c').closest('.mktoFieldWrap').classList.add('spz-cstm-error');
            }
            else {
                document.querySelector('#LblSingle_Opt_In__c').closest('.mktoFieldWrap').classList.remove('spz-cstm-error');
            }
        }, 50);

        setTimeout(() => {
            clearInterval(checkErrorforCheckBox);
        }, 1000);
    }

    //Marketo form update
    function formUpdate() {
        document.querySelector('#HeroFormCol .mktoForm em').innerHTML = `Trouble submitting? <br class="mobile-only"> Email us at <a href="mailto:info@eptura-marketing.com" target="_blank" id="">info@eptura-marketing.com</a>`;

        waitForElm('#HeroFormCol #HeroFormTitleText h2').then(function () {
            document.querySelector('#HeroFormCol #HeroFormTitleText h2').outerHTML = '<h6>Get a demo</h6>';

            var targetNode = document.querySelector('#HeroFormCol #HeroFormTitleText h2');
            var callback = function (mutationsList, observer) {
                for (var mutation of mutationsList) {
                    if (mutation.type === 'childList' || mutation.type === 'attributes') {
                        document.querySelector('#HeroFormCol #HeroFormTitleText h2').outerHTML = '<h6>Get a demo</h6>';
                        observer.disconnect();
                    }
                }
            };

            var observer = new MutationObserver(callback);
            var config = { attributes: true, childList: true, subtree: true };
            observer.observe(targetNode, config);
        });


        waitForElm('#HeroFormCol #HeroFormTitleText h6').then(function () {
            document.querySelector('#HeroFormCol #HeroFormTitleText h6').innerHTML = 'Get a demo';

            var targetNode = document.querySelector('#HeroFormCol #HeroFormTitleText h6');
            var callback = function (mutationsList, observer) {
                for (var mutation of mutationsList) {
                    if (mutation.type === 'childList' || mutation.type === 'attributes') {
                        document.querySelector('#HeroFormCol #HeroFormTitleText h6').innerHTML = 'Get a demo';
                        observer.disconnect();
                    }
                }
            };

            var observer = new MutationObserver(callback);
            var config = { attributes: true, childList: true, subtree: true };
            observer.observe(targetNode, config);
        });

        document.querySelector('#HeroFormCol .mktoForm em').closest('.mktoFormRow').classList.add('spz-email');
        document.querySelector('#HeroFormCol .mktoForm .spz-email').before(document.querySelector('#HeroFormCol .mktoForm .mktoButtonRow'));

        document.querySelector('#I_am__c').addEventListener('change', function () {
            dropdownFunctionality(this.value);
        });

        document.querySelector('#LblI_am__c').textContent = 'I am...*';

        // Add form title and sub title
        if (document.querySelectorAll('#HeroFormCol #HeroFormTitleText .spz-form-title').length == 0 && single_page_setup.form_title) {
            document.querySelector('#HeroFormCol').insertAdjacentHTML('afterbegin', `<div class="spz-site-logo"><img src="${single_page_setup.site_logo}" alt="${single_page_setup.logo_alt}"></div>`);
            document.querySelector('#HeroFormCol #HeroFormTitleText').insertAdjacentHTML('afterbegin', `<div class="spz-form-title"><span class="const-title">${single_page_setup.form_title}</span><div class="title-anim-wrapper"><div class="title-height">${genList()}</div></div></div>`);
        }


        // Add hero content section
        if (document.querySelector('#HeroFormCol').parentNode.querySelectorAll('.spz-hero-contents').length == 0) {
            document.querySelector('#HeroFormCol').insertAdjacentHTML('afterend', hero_content);
        }

        document.querySelector('.spz-3024 .mktoForm .mktoButtonRow button[type="submit"].mktoButton').addEventListener('click', function () {
            setTimeout(() => {
                // if (!document.querySelector('.get-form .mktoForm').classList.contains('fully-load')) {
                var eventclick = new Event('focus');
                var inpEmail = document.querySelector('.mktoEmailField');
                var inpIam = document.querySelector('#I_am__c');

                if (inpEmail.value == '' || !validateEmail(inpEmail.value)) {
                    var eml = MktoForms2.allForms()[0].getFormElem().find("#Email")
                    MktoForms2.allForms()[0].showErrorMessage('Must be valid email. example@yourdomain.com', eml)
                    inpEmail.dispatchEvent(eventclick);
                    inpEmail.closest('.mktoFormCol').classList.add('field-error');
                    inpEmail.focus();
                } else {
                    if (inpIam.value == '') {
                        var emlIam = MktoForms2.allForms()[0].getFormElem().find("#I_am__c")
                        MktoForms2.allForms()[0].showErrorMessage('This field is required.', emlIam)
                        inpIam.dispatchEvent(eventclick);
                        inpIam.closest('.mktoFormCol').classList.add('field-error')
                    }
                }
                // }
            }, 200)
        })
    }

    //On value change of "I am.." field switch label od comment button
    function dropdownFunctionality(val) {
        let setBuffer = setInterval(() => {
            if (document.querySelector('#Lead_Notes__c')) {
                if (document.querySelector('.spz-anchor').classList.contains('spz-hidden')) {
                    document.querySelector('.spz-anchor').classList.remove('spz-hidden');
                }
            }
            else {
                document.querySelector('.spz-anchor').classList.add('spz-hidden');
            }

            if (val == 'Other' || val == 'A current client' || val == 'A current Partner') {
                document.querySelector('.show-comment-dynamic').textContent = '+ Please let us know how we may assist you';
            }
            else {
                document.querySelector('.show-comment-dynamic').textContent = '+ Comment';
            }
            focusFields();
        }, 5);

        setTimeout(() => {
            clearInterval(setBuffer);
        }, 50);
    }

    // On input focus add class on closest parent field class
    function focusFields() {
        document.querySelectorAll('#HeroForm .mktoForm .mktoFormRow .mktoField:not([type="checkbox"]):not([type="hidden"])').forEach(function (el) {

            blockChar();

            el.addEventListener('focus', function () {
                el.closest('.mktoFormCol').classList.add('field-focus');
            });
            el.addEventListener('blur', function () {
                el.closest('.mktoFormCol').classList.remove('field-focus');
                checkError(el);
            });

            // add event listeners to the input element
            el.addEventListener('keypress', () => {
                checkError(el);
            });

            el.addEventListener('change', () => {
                checkError(el);
            });

            el.addEventListener('keydown', () => {
                checkError(el);
            });

            el.addEventListener('keyup', () => {
                checkError(el);
            });
        });
    }

    // Function to add .field-error class on closest parent .field class if .error is exist on input
    function checkError(elem) {
        let timeBuffer = setInterval(() => {
            if (elem.closest('.mktoFormCol ').querySelector('.mktoError') && elem.closest('.mktoFormCol').querySelector('.mktoInvalid')) {
                elem.closest('.mktoFormCol').classList.add('field-error');
            } else {
                elem.closest('.mktoFormCol').classList.remove('field-error');
            }
            if (elem && elem.value && (elem.value != '')) {
                elem.closest('.mktoFormCol').classList.add('input-filled');
            } else {
                elem.closest('.mktoFormCol').classList.remove('input-filled');
            }
        }, 100);

        setTimeout(() => {
            clearInterval(timeBuffer);
        }, 1000);
    }

    //Block "e" from number of employees field
    function blockChar() {
        document.querySelector('#NumberOfEmployees').addEventListener("keydown", function (e) {
            if (e.key == 'e') {
                e.preventDefault();
            }
        });
    }

    // Email validation
    function validateEmail(email) {
        var regex = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
        return regex.test(String(email).toLowerCase());
    }

    // Generic Code
    function waitForElm(selector) {
        return new Promise(function (resolve) {
            if (document.querySelector(selector)) {
                return resolve(document.querySelector(selector));
            }
            const observer = new MutationObserver(function (mutations) {
                if (document.querySelector(selector)) {
                    resolve(document.querySelector(selector));
                    observer.disconnect();
                }
            });
            observer.observe(document, { attributes: true, childList: true, subtree: true, characterData: true });
        });
    }

    // Generate list content
    function genList() {
        if (single_page_setup != '' && single_page_setup.list_item.length > 0) {
            let list_arr = '';
            for (var list_item of single_page_setup.list_item) {
                list_arr += `<span class="item">${list_item}</span>`;
            }
            return list_arr;
        }
    }

    // Generate Testimonial slide
    function genslide() {
        if (single_page_setup != '' && single_page_setup.testimonial_slide.length > 0) {
            let list_arr = '';
            for (var testimonial_slide of single_page_setup.testimonial_slide) {
                list_arr += `${testimonial_slide}`;
            }
            return list_arr;
        }
    }
})();