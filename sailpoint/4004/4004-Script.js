!function(){if(!document.getElementById("spz-4004")){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.id="spz-4004",t.href="https://res.cloudinary.com/spiralyze/raw/upload/f_auto/sailpoint/4004/code/4004-Style.css",e.appendChild(t)}function n(){let e=setInterval((function(){document.querySelector("body")&&(clearInterval(e),document.body.classList.contains("SPZ_4004")?document.body.classList.contains("SPZ_4004")&&(o("SPZ_4004","SPZ_4004_truecontrol"),r("SPZ_4004","SPZ_4004_variant"),c()):(o("SPZ_4004","SPZ_4004_truecontrol"),document.body.classList.add("SPZ_4004"),r("SPZ_4004","SPZ_4004_variant"),u(".SPZ_4004 #mktoForm_1016.mktoForm .mktoFormRow input").then((()=>{const e={SuperHeading:"Get the report",Heading:"The Horizons of Identity Security 2024-2025"},t="form#mktoForm_1016",n=setInterval((()=>{document.querySelector(t)&&document.querySelectorAll(`${t} input`).length>0&&(clearInterval(n),function(e,t){const n=`<div class="spz-form-wrap">\n                <div class="form-section">\n                  ${0!==e.SuperHeading.replace(/\s/g,"").length?`<div class="form-superheading">${e.SuperHeading}</div>`:""}\n                  ${0!==e.Heading.replace(/\s/g,"").length?`<div class="form-heading">${e.Heading}</div>`:""}\n                  <div class="the-form mkto-wrap"></div>\n                  <div class="submit_spz">\n                    <h3 class="text-white">Thank you!</h3><p class="text-white my-2" style="text-align: center;">Want to learn more? Visit our <a class="underline underline-offset-4 hover:no-underline" href="/identity-library">Identity Library</a>.</p><p class="text-white" style="text-align: center;">Didn't automatically open?</p><a id="resource-asset" class="mt-2 btn btn--blue-alt" href="https://docs.sailpoint.com/wp-content/uploads/SailPoint-Horizons-of-Identity-Security-Report-2024-2025-SP2487.pdf" target="_blank" rel="noopener">Download</a>\n                  </div>\n                </div>\n              </div>`;document.querySelector("#__next footer").insertAdjacentHTML("beforebegin",n);const o=setInterval((()=>{document.querySelector(t)&&document.querySelectorAll(`${t} input`).length>0&&(clearInterval(o),document.querySelector(".spz-form-wrap .the-form").appendChild(document.querySelector(t)),function(){for(var e=document.querySelectorAll(".SPZ_4004 .spz-form-wrap form.mktoForm .mktoFormRow"),t=0;t<e.length;t++){var n="field-"+(t+1);e[t].classList.add(n)}function o(){const e=document.querySelector(".SPZ_4004 form.mktoForm");function t(){const e=document.querySelector(".SPZ_4004 form.mktoForm .mktoFieldWrap .mktoField#State");e&&(e.addEventListener("focus",(function(){e.closest(".mktoFieldWrap").classList.add("active","typing"),r()})),e.addEventListener("blur",(function(){e.closest(".mktoFieldWrap").classList.remove("active","typing"),r()})),e.addEventListener("input",(function(){r()})),e.addEventListener("change",(function(){r()})))}e.addEventListener("focus",(function(e){const t=e.target;t.classList.contains("mktoField")&&(t.closest(".mktoFieldWrap").classList.add("active","typing"),r())}),!0),e.addEventListener("blur",(function(e){const t=e.target;t.classList.contains("mktoField")&&(t.closest(".mktoFieldWrap").classList.remove("active","typing"),r())}),!0),e.addEventListener("input",(function(e){e.target.classList.contains("mktoField")&&r()})),e.addEventListener("change",(function(e){e.target.classList.contains("mktoField")&&r()}));const n=new MutationObserver((()=>{t()})),o=document.querySelector(".SPZ_4004 form.mktoForm");o&&n.observe(o,{childList:!0,subtree:!0})}function r(){const e=document.querySelectorAll(".SPZ_4004 form.mktoForm .mktoField"),t=setInterval((()=>{e.forEach((e=>{const t=e.closest(".mktoFieldWrap");if(t){const n=t.querySelector(".mktoError");n&&"none"!==n.style.display?t.classList.add("error"):t.classList.remove("error"),e.value&&""!==e.value.trim()?t.classList.add("filled"):t.classList.remove("filled")}}))}),100);setTimeout((()=>{clearInterval(t)}),1e3)}["#LblCountry:Country","#LblState:State","#LblTitle:Job title"].forEach((e=>{const[t,n]=e.split(":");u(`.SPZ_4004 .spz-form-wrap form.mktoForm .mktoFieldWrap label.mktoLabel${t}`).then((e=>{e.innerHTML=(e.querySelector(".mktoAsterix")?.outerHTML||"")+n}))})),o(),document.querySelector("select#Country").addEventListener("change",(()=>{const e=document.querySelector(".SPZ_4004 .spz-form-wrap form.mktoForm .mktoFormRow.field-8"),t=document.querySelector(".SPZ_4004 .spz-form-wrap form.mktoForm .mktoFormRow.field-9");document.querySelector("select#State")?(document.querySelector("label#LblState").textContent="State",t.classList.remove("hidden"),e.classList.remove("spz-full")):(t.classList.add("hidden"),e.classList.add("spz-full"))}));const i=document.querySelector("form#mktoForm_1016"),a=i.querySelector('button[type="submit"]'),c=e=>{a&&a.textContent!==e&&(a.textContent=e)};c("Download now"),i.addEventListener("submit",(function(){c("Please Wait")}));const s=()=>{c("Download now")};i.addEventListener("input",s),i.addEventListener("change",s);const l=new MutationObserver((()=>{if(a&&"Please Wait"===a.textContent){document.querySelector(".mktoError")&&c("Download now")}}));a&&l.observe(a,{childList:!0,subtree:!0});MktoForms2.whenReady((e=>{e.onValidate((e=>{e||(c("Download now"),setTimeout((()=>{"Please Wait"===a.textContent&&c("Download now")}),500))})),e.onSubmit((()=>{c("Please Wait"),setTimeout((()=>{document.querySelector(".mktoError")&&c("Download now")}),500)}))})),MktoForms2.whenReady((function(e){e.onSuccess((function(e,t){document.body.classList.add("form-submitted");var n=setInterval((()=>{var e=document.querySelector(".SPZ_4004 .spz-form-wrap form.mktoForm #mktoCheckbox_28560_0");e&&(e.checked=!0)}),100);setTimeout((()=>{clearInterval(n)}),5e3)}))}))}())}))}(e,t))}))}))))}))}function o(e,t){["HiddenFieldName","HiddenFieldValue"].forEach(((n,o)=>{var r=a(n)?.split(",").filter((n=>n!==(o?t:e))).join(",");i(n,r||"",1)}))}function r(e,t){var n=a("HiddenFieldName"),o=a("HiddenFieldValue");n?!n||n.includes(e)||o.includes(t)||(i("HiddenFieldName",n+","+e,1),i("HiddenFieldValue",o+","+t,1)):(i("HiddenFieldName",e,1),i("HiddenFieldValue",t,1)),c()}function i(e,t,n){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/; domain=sailpoint.com;"}function a(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function c(){var e=setInterval((function(){var t=document.querySelector('form.mktoForm#mktoForm_1016 input[name="intellimize1"]');if(t){clearInterval(e);var n=a("HiddenFieldValue");""==t.value?t.value=n:t.value.includes(n)||(t.value=t.value+","+n)}}));setTimeout((function(){clearInterval(e)}),15e3),document.addEventListener("click",(function(e){if(e.target.closest(".mktoForm .mktoButton")){var t=(new Date).toLocaleString("en-US",{timeZone:"America/New_York"}),n=e.target.closest(".mktoForm").querySelector('input[name="intellimize2"]');n&&(n.value=t)}}))}var s;history.pushState=(s=history.pushState,function(){var e=s.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))}));var l=location.href;function d(e){let t="";"/identity-library/horizons-identity-security-3"==window.location.pathname&&(t=window.location.href),!function(e,t,n){e=e.includes("#")?e.slice(0,e.indexOf("#")):e,t=t.includes("#")?t.slice(0,t.indexOf("#")):t,n||(e=e.includes("?")?e.slice(0,e.indexOf("?")):e);return e===t||e===t+"/"}(e,t,!0)?document.querySelector(".SPZ_4004")&&document.body.classList.remove("SPZ_4004"):n()}function u(e){return new Promise((function(t){if(document.querySelector(e))return t(document.querySelector(e));const n=new MutationObserver((function(o){document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())}));n.observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}))}d(l),window.addEventListener("locationchange",(function(){d(l=location.href)}))}();