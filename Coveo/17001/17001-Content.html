<script src="https://code.jquery.com/jquery-3.6.4.min.js"
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/Coveo/17001/accordion.css">

<div class="interactive_section">
    <div class="accordion-container">
        <ul class="accordion">
            <h1>Key takeaways</h1>

            <li class=" l1">
                <div class="toggle "><span>Best practices</span>
                    <div class="prog-bar"></div>
                    <img class="open"
                        src="https://res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/up-arrow.svg"
                        alt="">
                    <img class="close"
                        src="https://res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/down-arrow.svg"
                        alt="">
                </div>
                <div class="inner ">
                    <p>
                        Keep employees connected and engaged with these five best practices. Including tips on how to
                        keep
                        them
                        inspired and informed.
                    </p>
                    <div class="img-container">
                        <img src="https://res.cloudinary.com/spiralyze/image/upload/v1682598893/coveo/17001/desktop__features_image_1.webp"
                            alt="">
                    </div>
                </div>
            </li>

            <li class="l2">
                <div class="toggle"><span>Key capabilities</span>
                    <div class="prog-bar"></div>
                    <img class="open"
                        src="https://res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/up-arrow.svg"
                        alt="">
                    <img class="close"
                        src="https://res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/down-arrow.svg"
                        alt="">
                </div>
                <div class="inner">
                    <p>
                        Intelligent search, personalized results, detailed analytics, third-party app integration, and
                        security
                        and
                        compliance features to improve employee productivity and knowledge management.
                    </p>
                    <div class="img-container">
                        <img src="https://res.cloudinary.com/spiralyze/image/upload/v1682726304/coveo/17001/desktop_1440__key_capabilities.webp"
                            alt="">
                    </div>
                </div>
            </li>

            <li class="l3">
                <div class="toggle"><span>Artificial intelligence</span>
                    <div class="prog-bar"></div>
                    <img class="open"
                        src="https://res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/up-arrow.svg"
                        alt="">
                    <img class="close"
                        src="https://res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/down-arrow.svg"
                        alt="">
                </div>
                <div class="inner">
                    <p>
                        Coveo leverages advanced AI to provide personalized and contextually-aware search results,
                        continually
                        learning and adapting to user behavior, enabling data-driven decision-making.
                    </p>
                    <div class="img-container">
                        <img src="https://res.cloudinary.com/spiralyze/image/upload/v1682726304/coveo/17001/desktop_1440__artificial_intelligence.webp"
                            alt="">
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>

<script>
    $(document).ready(function () {
        let aSwitch = accordionSwitch();
        aSwitch.init();
        aSwitch.start();

        if (window.innerWidth > 1023) {
            $('li').hover(function () {
                aSwitch.stop();
            }, function () {
                aSwitch.start();
                $('li.show').addClass('active');
            });
        }

        $('.toggle').click(function (e) {
            e.preventDefault();
            aSwitch.stop();

            let $this = $(this);
            if ($this.parent().hasClass('show active')) {
                $this.parent().removeClass('show active');
            } else {
                $this.parent().parent().find('li').removeClass('show active');
                $this.parent().addClass('show active');
            }
        });
    });


    function accordionSwitch() {
        let intervalId;
        let counter = 0;
        return {
            init() {
                switchClass();
            },
            start() {
                intervalId = window.setInterval(function () {
                    switchClass();
                }, 10000);
            },
            stop() {
                clearInterval(intervalId);
                $("li").removeClass('active');
            }
        }

        //Switch active and show class
        function switchClass() {
            // console.log('loop ' + counter)
            // var c = counter % $("li").length;
            // $("li").removeClass('show active');
            // $("li").eq(c).addClass('show active');
            // ++counter

            if ($('.l1').hasClass('show')) {
                $('.l1').removeClass('show active');
                $('.l2').addClass('show active');
            }
            else if ($('.l2').hasClass('show')) {
                $('.l2').removeClass('show active');
                $('.l3').addClass('show active');
            }

            else if ($('.l3').hasClass('show')) {
                $('.l3').removeClass('show active');
                $('.l1').addClass('show active');
            }
            else {
                $('.l1').addClass('show active');
            }
        }
    }
</script>