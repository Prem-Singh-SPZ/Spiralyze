<script src="https://code.jquery.com/jquery-3.6.4.min.js"
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/Coveo/17001/accordion.css">

<div class="interactive_section">
    <div class="accordion-container">
        <ul class="accordion">
            <h1>Key takeaways</h1>

            <li class=" l1">
                <div class="toggle "><span>How to pick the best solution</span>
                    <div class="prog-bar"></div>
                    <img class="open"
                        src="//res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/up-arrow.svg"
                        alt="Arrow Up">
                    <img class="close"
                        src="//res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/down-arrow.svg"
                        alt="Arrow Down">
                </div>
                <div class="inner ">
                    <p>When it comes to choosing a site search tool for an e-commerce platform, evaluating options is far
                        from simple. So how can you choose the right site search solution for your e-commerce site?</p>
                    <div class="img-container">
                        <picture>
                            <source
                                srcset="//res.cloudinary.com/spiralyze/image/upload/v1684920071/coveo/17001/desktop_1440__how_to_7.webp"
                                type="image/webp">
                            <source
                                srcset="//res.cloudinary.com/spiralyze/image/upload/v1684920071/coveo/17001/desktop_1440__how_to_7.png"
                                type="image/png">
                            <img src="//res.cloudinary.com/spiralyze/image/upload/v1684920071/coveo/17001/desktop_1440__how_to_7.webp"
                                alt="Best Solution">
                        </picture>
                    </div>
                </div>
            </li>

            <li class="l2">
                <div class="toggle"><span>Six questions</span>
                    <div class="prog-bar"></div>
                    <img class="open"
                        src="//res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/up-arrow.svg"
                        alt="Arrow Up">
                    <img class="close"
                        src="//res.cloudinary.com/spiralyze/image/upload/v1683204866/Coveo/17001/custom_assets/down-arrow.svg"
                        alt="Arrow Down">
                </div>
                <div class="inner">
                    <p>Six questions you should ask yourself (and vendors as well!) when evaluating options on the
                        market.</p>
                    <div class="img-container">
                        <picture>
                            <source
                                srcset="//res.cloudinary.com/spiralyze/image/upload/v1684920118/coveo/17001/desktop_1440__six_questions_6.webp"
                                type="image/webp">
                            <source
                                srcset="//res.cloudinary.com/spiralyze/image/upload/v1684920118/coveo/17001/desktop_1440__six_questions_6.png"
                                type="image/png">
                            <img src="//res.cloudinary.com/spiralyze/image/upload/v1684920118/coveo/17001/desktop_1440__six_questions_6.webp"
                                alt="Six key questions">
                        </picture>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>

<script>
    $(document).ready(function () {
        let aSwitch = accordionSwitch();
        aSwitch.init();
        aSwitch.start();

        if (window.innerWidth > 1023) {
            $('li').hover(function () {
                aSwitch.stop();
                $('li.show').addClass('hover');
            }, function () {
                aSwitch.start();
                $('li.show').addClass('active');
                $('li').removeClass('hover');
            });
        }

        $('.toggle').click(function (e) {
            aSwitch.stop();
            let $this = $(this);
            if ($this.parent().hasClass('show')) {
                //$this.parent().addClass('show active');
                //e.preventDefault();
            } else {
                $this.parent().parent().find('li').removeClass('show active hover');
                $this.parent().addClass('show ');
                if (window.innerWidth < 1023) {
                    aSwitch.start();
                    $this.parent().addClass('active');
                }
            }
        });

        $(".ai-section-cta").click(function () {
            $('html, body').animate({ scrollTop: $($('.form-container-white')).offset().top, }, 500, 'linear');
        });
    });

    function accordionSwitch() {
        let intervalId;
        let counter = 0;
        return {
            init() {
                switchClass();
            },
            start() {
                intervalId = window.setInterval(function () {
                    switchClass();
                }, 10000);
            },
            stop() {
                clearInterval(intervalId);
                $("li").removeClass('active');
            }
        }

        //Switch active and show class
        function switchClass() {
            if ($('.l1').hasClass('show')) {
                $('.l1').removeClass('show active');
                $('.l2').addClass('show active');
            }
            else {
                $('.l1').addClass('show active');
                $('.l2').removeClass('show active');
            }
        }
    }
</script>